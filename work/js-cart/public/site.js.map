{"version":3,"file":"site.js","mappings":"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","sources":["webpack://js-cart/./src/products.js","webpack://js-cart/./src/state.js","webpack://js-cart/webpack/bootstrap","webpack://js-cart/webpack/runtime/define property getters","webpack://js-cart/webpack/runtime/hasOwnProperty shorthand","webpack://js-cart/webpack/runtime/make namespace object","webpack://js-cart/./src/site.js"],"sourcesContent":["const products = [\r\n    {\r\n        id: \"1\",\r\n        name: \"Gray Fluffball\",\r\n        img: \"http://placekitten.com/150/150?image=1\",\r\n        price: 0.99,\r\n    },\r\n    {\r\n        id: \"4\",\r\n        name: \"Yellow and White\",\r\n        img: \"http://placekitten.com/150/150?image=4\",\r\n        price: 3.14,\r\n    },\r\n    {\r\n        id: \"7\",\r\n        name: \"Lion face\",\r\n        img: \"http://placekitten.com/150/150?image=7\",\r\n        price: 2.73,\r\n    },\r\n];\r\n\r\nexport default products;","import products from \"./products\";\r\n\r\nexport const state = {\r\n    cart: [],          // cart = [item1, item2, ...], item data schema: item = {id, productId, quantity}\r\n    cartShown: false,\r\n};\r\n\r\nexport function addItemToCart(productId, cart) {\r\n    const item = cart.find(item => item.productId === productId);\r\n    if (item === undefined) { \r\n        const id = 1000 + productId;\r\n        cart.push( {id, productId, quantity: 1} );\r\n    } else {\r\n        item.quantity = item.quantity + 1;\r\n    }\r\n}\r\n\r\nexport function deleteItemFromCart(item, cart) {\r\n    cart.splice(cart.indexOf(item), 1);\r\n}\r\n\r\nexport function getSubtotalPrice(item) {\r\n    const eachPrice = products.find(product => product.id === item.productId).price;\r\n    return parseFloat((eachPrice * item.quantity).toFixed(2));\r\n}\r\n\r\nexport function getTotalPrice(cart) {\r\n    let total = 0;\r\n    for (let item of cart) {\r\n        total += getSubtotalPrice(item);\r\n    }\r\n    return parseFloat(total.toFixed(2));\r\n}\r\n\r\nexport function goToCheckout(cart) {\r\n    cart.length = 0;\r\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","\"use strict\";\r\n\r\nimport products from \"./products\";\r\nimport { state, addItemToCart, deleteItemFromCart, getSubtotalPrice, getTotalPrice, goToCheckout } from \"./state\";\r\n\r\n(function () {\r\n    const appEl = document.querySelector('#shop-app');\r\n\r\n    appEl.addEventListener('click', (e) => {\r\n        if (e.target.classList.contains(\"add-btn\")) {\r\n            const productId = e.target.dataset.id;\r\n            addItemToCart(productId, state.cart);\r\n            render();\r\n            return;\r\n        }\r\n\r\n        if (e.target.classList.contains('cart-btn')) {\r\n            state.cartShown = !state.cartShown;\r\n            render();\r\n            return;\r\n        }\r\n\r\n        if (e.target.classList.contains(\"decrement-btn\")) {\r\n            const itemId = e.target.dataset.id;\r\n            const item = state.cart.find(item => item.id === itemId);\r\n            item.quantity = item.quantity - 1;\r\n            if (!item.quantity) {\r\n                deleteItemFromCart(item, state.cart);\r\n            }\r\n            render();\r\n            return;\r\n        }\r\n\r\n        if (e.target.classList.contains(\"increment-btn\")) {\r\n            const itemId = e.target.dataset.id;\r\n            const item = state.cart.find(item => item.id === itemId);\r\n            item.quantity = item.quantity + 1;\r\n            render();\r\n            return;\r\n        }  \r\n    });\r\n\r\n    appEl.addEventListener('submit', (e) => {\r\n        e.preventDefault();\r\n        if (e.target.classList.contains(\"checkout\")) {\r\n            goToCheckout(state.cart); \r\n            render();\r\n            return;\r\n        }\r\n    });\r\n\r\n\r\n    render();\r\n\r\n    function render() {\r\n        if (state.cartShown) {\r\n            renderProductsWithCart(products, state);\r\n            return;\r\n        }\r\n        renderProducts(products, state);\r\n    }\r\n\r\n    function renderProducts(products, state) {\r\n        const productsEl = getProductsEl(products);\r\n        const cartBtnEl = getCartBtnEl(state);\r\n        appEl.innerHTML = `\r\n            <header>\r\n                <h1>Cat Shop</h1>\r\n                ${cartBtnEl}\r\n            </header>\r\n            ${productsEl}\r\n        `;\r\n    }\r\n\r\n    function renderProductsWithCart(products, state) {\r\n        const productsEl = getProductsEl(products);\r\n        const cartEl = getCartEl(products, state.cart);\r\n        const cartBtnEl = getCartBtnEl(state);\r\n        appEl.innerHTML = `\r\n            <header>\r\n                <h1>Cat Shop</h1>\r\n                ${cartBtnEl}\r\n            </header>\r\n            ${cartEl}\r\n            ${productsEl}\r\n    ` ;\r\n    }\r\n\r\n    // We assume that \"n\" in \"View Cart(n)\" equals to the number of items, not the sum of all items' quantities\r\n    function getCartBtnEl(state) {\r\n        const itemCount = state.cart.length;\r\n        return !state.cartShown\r\n        ? `<button class=\"cart-btn\" type=\"button\">View Cart (${itemCount})</button>`\r\n        : `<button class=\"cart-btn\" type=\"button\">Hide Cart</button>`\r\n    }\r\n\r\n    function getProductsEl(products) {\r\n        const productListEl = products.map(product => {\r\n            return `\r\n                <li class=\"product\">\r\n                    <img class=\"product-img\" src=\"${product.img}.jpg\" alt=\"img-for-${product.name}\"/>\r\n                    <p class=\"product-name\">${product.name}</p>\r\n                    <p><span>$</span><span class=\"product-price\">${product.price}</span><span>/each</span></p>\r\n                    <button class=\"add-btn\" type=\"button\" data-id=\"${product.id}\">Add to cart</button>\r\n                </li>\r\n            `;\r\n        }).join(\"\");\r\n        return `\r\n            <div class=\"products\"> \r\n                <h2>Our Products</h2>\r\n                <ul class=\"product-list\">\r\n                    ${productListEl}\r\n                </ul>\r\n            </div>\r\n        `;\r\n    }\r\n\r\n    function getCartEl(products, cart) {\r\n        const itemListEl = cart.map(item => {\r\n            const product = products.find(product => product.id === item.productId);     \r\n            return `\r\n                <li class=\"item\">\r\n                    <img class=\"item-img\" src=\"${product.img}.jpg\" alt=\"img-for-${product.name}\"/>\r\n                    <p class=\"item-name\">${product.name}</p>\r\n                    <div>\r\n                        <p>Each</p>\r\n                        <p>$${product.price}</p>\r\n                    </div>\r\n                    <div>\r\n                        <p>Quantity</p>\r\n                        <div class=\"quantity-counter\">\r\n                            <button type=\"button\" class=\"decrement-btn\" data-id=\"${item.id}\">-</button>\r\n                            <p class=\"quantity\">${item.quantity}</p>\r\n                            <button type=\"button\" class=\"increment-btn\" data-id=\"${item.id}\">+</button>\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <p>Subtotal</p>\r\n                        <p>$${getSubtotalPrice(item)}</p>\r\n                    </div>\r\n                </li>\r\n            `;\r\n        }).join(\"\"); \r\n        return !cart.length\r\n            ? `<div class=\"cart\"><p>Nothing in the cart</p></div>`\r\n            : `\r\n            <div class=\"cart\">\r\n                <h2>My cart</h2>\r\n                <ul class=\"item-list\">\r\n                    ${itemListEl}\r\n                </ul>\r\n                <div class=\"checkout-content\">\r\n                    <p><span>Total: $</span><span class=\"total-price\">${getTotalPrice(cart)}</span></p>\r\n                    <form action=\"\" class=\"checkout\">\r\n                        <input type=\"hidden\" value=\"${getTotalPrice(cart)}\" />  \r\n                        <button type=\"submit\" class=\"checkout-btn\">Checkout</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        `;\r\n    }\r\n})();"],"names":["products","id","name","img","price","state","cart","cartShown","addItemToCart","productId","item","find","undefined","push","quantity","deleteItemFromCart","splice","indexOf","getSubtotalPrice","eachPrice","product","parseFloat","toFixed","getTotalPrice","total","goToCheckout","length","appEl","document","querySelector","addEventListener","e","target","classList","contains","dataset","render","itemId","preventDefault","renderProductsWithCart","renderProducts","productsEl","getProductsEl","cartBtnEl","getCartBtnEl","innerHTML","cartEl","getCartEl","itemCount","productListEl","map","join","itemListEl"],"sourceRoot":""}